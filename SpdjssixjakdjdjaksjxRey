--// Fish World Script Hub (ROBLOX VERSION)
--// By Rey | Fixed + Auto Save + Auto Login

-- Destroy old UI
pcall(function()
    game:GetService("CoreGui"):FindFirstChild("Fluent"):Destroy()
end)

task.wait(0.5)

-- Load Libraries
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

-- CONFIG
local CORRECT_KEY = "ReyScriptHubFishWorldSoOp"
local DISCORD_LINK = "https://discord.gg/G4n8yzBx2J"

local isAuthenticated = false
local savedKey = ""
local speed1, speed2 = 1, 1
local logs = {}

-- CLEAN KEY
local function cleanKey(txt)
    return tostring(txt or ""):gsub("%s+", ""):gsub("\n", "")
end

-- LOG SYSTEM
local function addLog(txt)
    table.insert(logs, os.date("[%H:%M:%S] ") .. txt)
    if #logs > 15 then table.remove(logs, 1) end
end

-- WINDOW
local Window = Fluent:CreateWindow({
    Title = "üé£ Fish World Script Hub",
    SubTitle = "by Rey",
    Size = UDim2.fromOffset(580, 460),
    Theme = "Darker",
    Acrylic = true,
    MinimizeKey = Enum.KeyCode.LeftControl
})

-- TABS
local KeyTab = Window:AddTab({ Title = "Key", Icon = "key" })
local MainTab = Window:AddTab({ Title = "Main", Icon = "zap" })
local SettingsTab = Window:AddTab({ Title = "Settings", Icon = "settings" })
local ConsoleTab = Window:AddTab({ Title = "Console", Icon = "terminal" })
local InfoTab = Window:AddTab({ Title = "Info", Icon = "info" })

-- SAVE SYSTEM
SaveManager:SetLibrary(Fluent)
SaveManager:SetFolder("FishWorldScript")
SaveManager:SetFile("KeySave")

-- KEY INPUT
KeyTab:AddInput("KeyInput", {
    Title = "üîë Enter Key",
    Placeholder = "Paste key here...",
    Finished = true,
    Callback = function(v)
        savedKey = cleanKey(v)
        SaveManager:Save()
    end
})

KeyTab:AddButton({
    Title = "‚úÖ Verify Key",
    Callback = function()
        if cleanKey(savedKey) == cleanKey(CORRECT_KEY) then
            isAuthenticated = true
            SaveManager:Save()
            Fluent:Notify({
                Title = "‚úÖ Success",
                Content = "Key Verified!",
                Duration = 3
            })
            addLog("Key verified successfully")
        else
            Fluent:Notify({
                Title = "‚ùå Wrong Key",
                Content = "Key invalid!",
                Duration = 3
            })
        end
    end
})

-- AUTO LOGIN
task.delay(1, function()
    if cleanKey(savedKey) == cleanKey(CORRECT_KEY) then
        isAuthenticated = true
        Fluent:Notify({
            Title = "üîì Auto Login",
            Content = "Key loaded automatically",
            Duration = 3
        })
    end
end)

-- SCRIPT FUNCTIONS
local function Script1()
    task.wait(speed1)
    game:GetService("ReplicatedStorage").communication["9362e25a8d224fd987d0d3f50d8249bc"]:FireServer({
        Vector3.new(-269.9, 15.8, -262.7),
        Vector3.new(-0.43, 0, -0.9),
        1.95,
        false
    })
    addLog("Script 1 executed")
end

local function Script2()
    task.wait(speed2)
    game:GetService("ReplicatedStorage").communication["fc57ae91538d430fa1ff9a33be3bc18c"]:FireServer({
        true,
        Vector3.new(-274.2, 3.4, -274.8)
    })
    addLog("Script 2 executed")
end

-- MAIN BUTTONS
MainTab:AddButton({
    Title = "‚ñ∂ Execute All",
    Callback = function()
        if not isAuthenticated then return end
        task.spawn(function()
            Script1()
            Script2()
        end)
    end
})

MainTab:AddButton({
    Title = "‚ö° Script 1",
    Callback = function()
        if isAuthenticated then task.spawn(Script1) end
    end
})

MainTab:AddButton({
    Title = "‚ö° Script 2",
    Callback = function()
        if isAuthenticated then task.spawn(Script2) end
    end
})

-- SETTINGS
SettingsTab:AddSlider("S1", {
    Title = "Delay Script 1",
    Min = 0,
    Max = 10,
    Default = 1,
    Callback = function(v) speed1 = v end
})

SettingsTab:AddSlider("S2", {
    Title = "Delay Script 2",
    Min = 0,
    Max = 10,
    Default = 1,
    Callback = function(v) speed2 = v end
})

-- CONSOLE
local ConsoleLabel = ConsoleTab:AddParagraph({
    Title = "Logs",
    Content = "Waiting..."
})

task.spawn(function()
    while true do
        ConsoleLabel:SetDesc(table.concat(logs, "\n"))
        task.wait(0.3)
    end
end)

-- INFO
InfoTab:AddParagraph({ Title = "Developer", Content = "Rey" })
InfoTab:AddParagraph({ Title = "Discord", Content = DISCORD_LINK })

Fluent:Notify({
    Title = "‚úÖ Loaded",
    Content = "Fish World Script Ready!",
    Duration = 4
})

print("‚úÖ Fish World Script Loaded Successfully")
