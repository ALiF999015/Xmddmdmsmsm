--// Fish World Script Hub (Rayfield UI FIXED)
--// By Rey

pcall(function()
    game:GetService("CoreGui"):FindFirstChild("Rayfield"):Destroy()
end)

repeat task.wait() until game:IsLoaded()

local Rayfield = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Rayfield/main/source"))()

-- CONFIG
local KEY = "ReyScriptHubFishWorldSoOp"
local DISCORD = "https://discord.gg/G4n8yzBx2J"

local verified = false
local delay1 = 1
local delay2 = 1
local logs = {}

local function clean(v)
    return tostring(v or ""):gsub("%s+", "")
end

local function log(msg)
    table.insert(logs, os.date("[%H:%M:%S] ") .. msg)
    if #logs > 15 then table.remove(logs, 1) end
end

-- UI
local Window = Rayfield:CreateWindow({
    Name = "ðŸŽ£ Fish World Hub",
    LoadingTitle = "Fish World",
    LoadingSubtitle = "by Rey",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "FishWorld",
        FileName = "Config"
    },
    Discord = {
        Enabled = true,
        Invite = "G4n8yzBx2J",
        RememberJoins = true
    },
    KeySystem = false
})

local TabKey = Window:CreateTab("ðŸ”‘ Key", 4483362458)
local TabMain = Window:CreateTab("âš¡ Main", 4483362458)
local TabSetting = Window:CreateTab("âš™ Settings", 4483362458)
local TabConsole = Window:CreateTab("ðŸ“œ Console", 4483362458)

-- KEY SYSTEM
local savedKey = ""

TabKey:CreateInput({
    Name = "Enter Key",
    PlaceholderText = "Paste key here",
    RemoveTextAfterFocusLost = false,
    Callback = function(v)
        savedKey = clean(v)
    end
})

TabKey:CreateButton({
    Name = "Verify Key",
    Callback = function()
        if clean(savedKey) == clean(KEY) then
            verified = true
            Rayfield:Notify({
                Title = "Success",
                Content = "Key Verified!",
                Duration = 3
            })
            log("Key verified")
        else
            Rayfield:Notify({
                Title = "Error",
                Content = "Wrong key!",
                Duration = 3
            })
        end
    end
})

-- AUTO LOGIN
task.delay(1, function()
    if clean(savedKey) == clean(KEY) then
        verified = true
        Rayfield:Notify({
            Title = "Auto Login",
            Content = "Key loaded successfully",
            Duration = 3
        })
    end
end)

-- SCRIPT 1
local function Script1()
    task.wait(delay1)
    game:GetService("ReplicatedStorage").communication["9362e25a8d224fd987d0d3f50d8249bc"]:FireServer({
        Vector3.new(-269.9, 15.8, -262.7),
        Vector3.new(-0.43, 0, -0.9),
        1.95,
        false
    })
    log("Script 1 executed")
end

-- SCRIPT 2
local function Script2()
    task.wait(delay2)
    game:GetService("ReplicatedStorage").communication["fc57ae91538d430fa1ff9a33be3bc18c"]:FireServer({
        true,
        Vector3.new(-274.2, 3.4, -274.8)
    })
    log("Script 2 executed")
end

-- MAIN BUTTON
TabMain:CreateButton({
    Name = "â–¶ Execute (Script 1 âžœ Script 2)",
    Callback = function()
        if not verified then return end
        task.spawn(function()
            Script1()
            Script2()
        end)
    end
})

-- SETTINGS
TabSetting:CreateInput({
    Name = "Delay Script 1 (seconds)",
    PlaceholderText = "Default: 1",
    RemoveTextAfterFocusLost = false,
    Callback = function(v)
        local n = tonumber(v)
        if n then delay1 = n end
    end
})

TabSetting:CreateInput({
    Name = "Delay Script 2 (seconds)",
    PlaceholderText = "Default: 1",
    RemoveTextAfterFocusLost = false,
    Callback = function(v)
        local n = tonumber(v)
        if n then delay2 = n end
    end
})

-- CONSOLE
local console = TabConsole:CreateParagraph({
    Title = "Logs",
    Content = "Waiting..."
})

task.spawn(function()
    while true do
        console:Set("Content", table.concat(logs, "\n"))
        task.wait(0.3)
    end
end)

Rayfield:Notify({
    Title = "Loaded",
    Content = "Fish World Script Ready!",
    Duration = 4
})

print("âœ… Script Loaded Successfully")
