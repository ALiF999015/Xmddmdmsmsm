--// REY GUI FIXED (ANTI KOSONG & ANTI KETUTUP)

if not game:IsLoaded() then game.Loaded:Wait() end

pcall(function()
    game.CoreGui:FindFirstChild("ReyGui"):Destroy()
end)

local UIS = game:GetService("UserInputService")

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "ReyGui"
gui.IgnoreGuiInset = true -- << INI PENTING
gui.ResetOnSpawn = false
gui.Parent = game.CoreGui

-- MAIN FRAME
local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 420, 0, 300)
main.Position = UDim2.new(0.5, -210, 0.5, -150)
main.BackgroundColor3 = Color3.fromRGB(25,25,25)
main.BorderSizePixel = 0
main.ZIndex = 10

-- ROUND
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 12)

-- TOP BAR
local top = Instance.new("Frame", main)
top.Size = UDim2.new(1,0,0,45)
top.BackgroundColor3 = Color3.fromRGB(35,35,35)
top.ZIndex = 11

local title = Instance.new("TextLabel", top)
title.Size = UDim2.new(1,-20,1,0)
title.Position = UDim2.new(0,10,0,0)
title.Text = "ðŸ”¥ Rey Script Hub"
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.ZIndex = 12
title.TextXAlignment = Left

-- CONTENT PANEL
local content = Instance.new("Frame", main)
content.Position = UDim2.new(0, 10, 0, 55)
content.Size = UDim2.new(1, -20, 1, -65)
content.BackgroundColor3 = Color3.fromRGB(45,45,45)
content.ZIndex = 10
Instance.new("UICorner", content).CornerRadius = UDim.new(0, 10)

-- STATUS TEXT
local status = Instance.new("TextLabel", content)
status.Position = UDim2.new(0, 10, 0, 10)
status.Size = UDim2.new(1, -20, 0, 40)
status.Text = "STATUS: OFF"
status.TextColor3 = Color3.fromRGB(255,255,255)
status.Font = Enum.Font.GothamBold
status.TextSize = 16
status.BackgroundTransparency = 1
status.ZIndex = 11

-- BUTTON
local button = Instance.new("TextButton", content)
button.Position = UDim2.new(0, 10, 0, 60)
button.Size = UDim2.new(0, 220, 0, 45)
button.Text = "TURN ON"
button.BackgroundColor3 = Color3.fromRGB(70,70,70)
button.TextColor3 = Color3.new(1,1,1)
button.Font = Enum.Font.GothamBold
button.TextSize = 16
button.ZIndex = 11
Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

-- TOGGLE LOGIC
local enabled = false
button.MouseButton1Click:Connect(function()
    enabled = not enabled
    if enabled then
        button.Text = "TURN OFF"
        button.BackgroundColor3 = Color3.fromRGB(0,170,100)
        status.Text = "STATUS: ACTIVE"
    else
        button.Text = "TURN ON"
        button.BackgroundColor3 = Color3.fromRGB(70,70,70)
        status.Text = "STATUS: OFF"
    end
end)

-- DRAG
local dragging, dragStart, startPos
top.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = i.Position
        startPos = main.Position
    end
end)

UIS.InputChanged:Connect(function(i)
    if dragging and i.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = i.Position - dragStart
        main.Position = UDim2.new(0, startPos.X.Offset + delta.X, 0, startPos.Y.Offset + delta.Y)
    end
end)

UIS.InputEnded:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

print("âœ… GUI LOADED - FULLY VISIBLE")
